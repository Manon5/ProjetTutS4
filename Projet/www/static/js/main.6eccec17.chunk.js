(this.webpackJsonpreactbuttonexample=this.webpackJsonpreactbuttonexample||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),m=a.n(r),s=a(25),i=(a(70),a(71),a(72),a(73),a(103)),c=a(29),l=(a(30),a(26)),u=a(39),p=function(e){return console.log(e),o.a.createElement(i.a,{bg:"dark",variant:"dark"},o.a.createElement(l.a,{sm:11},o.a.createElement(u.a,{type:"text",placeholder:"Search",className:"mr-sm-2",expand:"md",size:"sm"})),o.a.createElement(l.a,{sm:.5},o.a.createElement(c.a,{className:"btn",variant:"outline-light"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement(l.a,{sm:.5},o.a.createElement(s.b,{to:"/Menu"},o.a.createElement(c.a,{className:"btn",variant:"light"},o.a.createElement("i",{className:"fa fa-bars"})))))},d=a(8),h=a(13),f=a(11),b=a(10),g=a(12),E=a(22),v=a(59),k=a(28),j=(a(80),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Menu"},o.a.createElement(v.a,null,o.a.createElement(k.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Monuments \xe0 proximit\xe9",o.a.createElement("i",{className:"fas fa-route fa-2x"}))),o.a.createElement(k.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Les incontournables",o.a.createElement("i",{className:"fas fa-crown fa-2x"}))),o.a.createElement(k.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Parcours de visite",o.a.createElement("i",{className:"fas fa-map-marked-alt fa-2x"}))),o.a.createElement(k.a,{className:"ret_row"},o.a.createElement(s.b,{to:"/Home"},o.a.createElement(c.a,{className:"btn_ret",variant:"danger",size:"lg"},"Retour \xe0 la carte")))))}}]),t}(n.Component)),w=a(16),x=(Object(w.a)(),a(81),a(108)),z=a(110),y=a(109),O=a(111),L=a(7),M=a.n(L),N=a(42),_=a.n(N),S=a(107),P=a(60),A=a.n(P),I=a(43),C=(a(102),[0,0]),U=[],Z={enableHighAccuracy:!0,timeout:1e4,maximumAge:0},V=new M.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),B=new M.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),T=new M.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function H(e,t,a,n){if(e==a&&t==n)return 0;var o=Math.PI*e/180,r=Math.PI*a/180,m=t-n,s=Math.PI*m/180,i=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos(s);return i>1&&(i=1),i=60*(i=180*(i=Math.acos(i))/Math.PI)*1.1515,1e3*(i*=1.609344)}function J(e){var t=e.coords;C=[t.latitude,t.longitude]}function D(e){}var R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this))).update=function(){window.navigator.vibrate(1e3),_.a.getCurrentPosition(J,D,Z);var e=200;a.setState({marker:C,zoom:a.getMapZoom()}),U!=[]&&H(U[0],U[1],C[0],C[1])>150&&a.setState({near:!1});for(var t=0;t<Object.keys(a.state.monuments).length;t++)H(C[0],C[1],a.state.monuments[t].Latitude,a.state.monuments[t].Longitude)<=150&&0==a.state.near&&H(C[0],C[1],a.state.monuments[t].Latitude,a.state.monuments[t].Longitude)<e&&(e=H(C[0],C[1],a.state.monuments[t].Latitude,a.state.monuments[t].Longitude));for(t=0;t<Object.keys(a.state.monuments).length;t++)if(H(C[0],C[1],a.state.monuments[t].Latitude,a.state.monuments[t].Longitude)<=e&&0==a.state.near){window.navigator.vibrate(1e3),a.setState({near:!0});var n="https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/images/monument"+a.state.monuments[t].id_monu+"/image1.jpg";I.a.notify(o.a.createElement("div",null,o.a.createElement(S.a,{src:n,fluid:!0}),"Vous \xeates proche de ",a.state.monuments[t].nom_monu,o.a.createElement(c.a,{className:"btn_popup",variant:"info",size:"sm",block:!0},"Plus d'informations")),{duration:null}),U=[a.state.monuments[t].Latitude,a.state.monuments[t].Longitude,t];break}},a.handleZoomstart=function(e){console.log(a.map&&a.map.leafletElement)},a.state={marker:C,zoom:14,near:!1,monuments:[]},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;_.a.getCurrentPosition(J,D,Z),this.setState({marker:C}),A.a.get("https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/api/monuments.php").then((function(a){var n=a.data;t.setState({monuments:n});for(var o=0;o<Object.keys(e.state.monuments).length;o++)1==e.state.monuments[o].id_imp?M.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:B}).addTo(e.map.leafletElement).bindPopup("<img  style='width:100%'src=https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/images/monument"+e.state.monuments[o].id_monu+"/image1.jpg </img><center><b>"+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].introduction+"</center>"):2==e.state.monuments[o].id_imp?M.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:T}).addTo(e.map.leafletElement).bindPopup("<center><b>"+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].introduction+"</center>"):M.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:V}).addTo(e.map.leafletElement).bindPopup("<center><b>"+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].introduction+"</center>")})).catch((function(e){I.a.notify("Veuillez relancer l'application avec un acc\xe8s \xe0 internet"),console.log(e)}))}},{key:"getMapZoom",value:function(){return this.map&&this.map.leafletElement.getZoom()}},{key:"render",value:function(){var e=this,t=o.a.createElement(x.a,{position:this.state.marker,onLoad:setInterval(this.update,1e4)},o.a.createElement(z.a,null,"Vous \xeates ici !"));return o.a.createElement("div",null,o.a.createElement(y.a,{ref:function(t){e.map=t},center:[49.133333,6.166667],zoom:this.state.zoom,maxBounds:[[49.072067,6.100502],[49.143538,6.256371]],maxBoundsViscosity:1,zoomControl:!1,maxZoom:18,minZoom:13},o.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t))}}]),t}(n.Component),q=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement(E.c,null,o.a.createElement(E.a,{path:"/Menu",component:j}),o.a.createElement(E.a,{path:"/",component:R}))}}]),t}(n.Component);var F=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,null),o.a.createElement(q,null))};m.a.render(o.a.createElement(s.a,null,o.a.createElement(F,null)),document.getElementById("root"))},65:function(e,t,a){e.exports=a(104)},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.6eccec17.chunk.js.map