(this.webpackJsonpprojet=this.webpackJsonpprojet||[]).push([[0],{42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(12),r=a.n(i),s=(a(47),a(33)),m=a(13),c=a(40),l=a(34),u=a(41),d=a(77),p=a(78),h=a(79),g=a(80),f=a(6),k=a.n(f),v=a(35),x=a.n(v),b=a(21),y=a.n(b),E=a(22),w=a(19),M=a(38),j=(a(68),a(39)),S=[0,0],z=[],L={enableHighAccuracy:!0,timeout:1e4,maximumAge:0};function A(e,t,a,n){if(e==a&&t==n)return 0;var o=Math.PI*e/180,i=Math.PI*a/180,r=t-n,s=Math.PI*r/180,m=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos(s);return m>1&&(m=1),m=60*(m=180*(m=Math.acos(m))/Math.PI)*1.1515,1e3*(m*=1.609344)}function I(e){var t=e.coords;S=[t.latitude,t.longitude]}function P(e){}var O=new k.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),U=new k.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),N=new k.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),B={textAlign:"center",height:"350px",marginTop:"30px"},Z={fontWeight:"bold",fontSize:"22px"},_={fontSize:"15px",marginBottom:"20px"},q={fontSize:"15px"},C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this))).update=function(){y.a.getCurrentPosition(I,P,L),a.setState({marker:S,zoom:a.getMapZoom()}),z!=[]&&A(z[0],z[1],S[0],S[1])>150&&a.setState({near:!1});for(var e=0;e<Object.keys(a.state.monuments.id).length;e++)if(A(S[0],S[1],a.state.monuments.id[e].Latitude,a.state.monuments.id[e].Longitude)<=150&&0==a.state.near){navigator.vibrate(1e3),a.setState({near:!0}),alert("Vous \xeates proche de "+a.state.monuments.id[e].nom_monu),z=[a.state.monuments.id[e].Latitude,a.state.monuments.id[e].Longitude,e];break}},a.handleZoomstart=function(e){console.log(a.map&&a.map.leafletElement)},a.state={marker:S,zoom:14,near:!1,markers:[{key:"marker1",position:[51.5,-.1],content:"My first popup"},{key:"marker2",position:[51.51,-.1],content:"My second popup"},{key:"marker3",position:[51.49,-.05],content:"My third popup"}],monuments:[]},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;y.a.getCurrentPosition(I,P,L),this.setState({marker:S}),x.a.get("https://my-json-server.typicode.com/Yonah125/test3/db").then((function(a){var n=a.data;t.setState({monuments:n});for(var o=0;o<Object.keys(e.state.monuments.id).length;o++)1==e.state.monuments.id[o].Importance?k.a.marker([e.state.monuments.id[o].Latitude,e.state.monuments.id[o].Longitude],{icon:O}).addTo(e.map.leafletElement).bindPopup(e.state.monuments.id[o].nom_monu):2==e.state.monuments.id[o].Importance?k.a.marker([e.state.monuments.id[o].Latitude,e.state.monuments.id[o].Longitude],{icon:N}).addTo(e.map.leafletElement).bindPopup(e.state.monuments.id[o].nom_monu):k.a.marker([e.state.monuments.id[o].Latitude,e.state.monuments.id[o].Longitude],{icon:U}).addTo(e.map.leafletElement).bindPopup(e.state.monuments.id[o].nom_monu)}))}},{key:"getMapZoom",value:function(){return this.map&&this.map.leafletElement.getZoom()}},{key:"render",value:function(){var e=this,t=o.a.createElement(d.a,{position:this.state.marker,onLoad:setInterval(this.update,1e3)},o.a.createElement(p.a,{className:"request-popup"},o.a.createElement("div",{style:B},o.a.createElement("img",{src:"https://cdn.vox-cdn.com/thumbor/-YgFj4-1xPchm7IMQpLkoRWUB9A=/0x0:2048x1208/1400x933/filters:focal(1116x306:1442x632):no_upscale()/cdn.vox-cdn.com/uploads/chorus_image/image/59579007/DcDLKrMU0AAs9XL.0.jpg",width:"150",height:"150"}),o.a.createElement("div",{className:"m-2",style:Z},"Success!"),o.a.createElement("span",{style:_},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),o.a.createElement("div",{className:"m-2",style:q},"Okay"))));return o.a.createElement("div",null,o.a.createElement(M.a,{bg:"dark",variant:"dark"},o.a.createElement(w.a,{sm:11},o.a.createElement(j.a,{type:"text",placeholder:"Search",className:"mr-sm-2",expand:"md",size:"sm"})),o.a.createElement(w.a,{sm:.5},o.a.createElement(E.a,{className:"btn",variant:"outline-light",onClick:function(){console.log("\xe7a marche bieng")}},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement(w.a,{sm:.5},o.a.createElement(E.a,{className:"btn",variant:"light"},o.a.createElement("i",{className:"fa fa-bars"})))),o.a.createElement(h.a,{ref:function(t){e.map=t},center:[49.133333,6.166667],zoom:this.state.zoom,maxBounds:[[49.072067,6.100502],[49.143538,6.256371]],maxBoundsViscosity:1,zoomControl:!1,maxZoom:18,minZoom:13},o.a.createElement(g.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.dbdb38d2.chunk.js.map