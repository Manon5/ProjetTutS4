(window.webpackJsonpreactbuttonexample=window.webpackJsonpreactbuttonexample||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),m=a.n(r),i=a(29),s=(a(70),a(71),a(72),a(73),a(103)),c=a(27),l=(a(28),a(16)),u=a(24),p=a(39),d=Object(l.f)(function(e){return console.log(e),o.a.createElement(s.a,{bg:"dark",variant:"dark"},o.a.createElement(u.a,{sm:11},o.a.createElement(p.a,{type:"text",placeholder:"Search",className:"mr-sm-2",expand:"md",size:"sm"})),o.a.createElement(u.a,{sm:.5},o.a.createElement(c.a,{className:"btn",variant:"outline-light"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement(u.a,{sm:.5},o.a.createElement(c.a,{className:"btn",variant:"light",href:"/Menu"},o.a.createElement("i",{className:"fa fa-bars"}))))}),h=a(19),f=a(20),b=a(22),g=a(21),E=a(23),k=a(59),v=a(26),w=(a(79),function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Menu"},o.a.createElement(k.a,null,o.a.createElement(v.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Monuments \xe0 proximit\xe9",o.a.createElement("i",{className:"fas fa-route fa-2x"}))),o.a.createElement(v.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Les incontournables",o.a.createElement("i",{className:"fas fa-crown fa-2x"}))),o.a.createElement(v.a,null,o.a.createElement(c.a,{className:"btn_menu",variant:"info",size:"lg",block:!0},"Parcours de visite",o.a.createElement("i",{className:"fas fa-map-marked-alt fa-2x"}))),o.a.createElement(v.a,{className:"ret_row"},o.a.createElement(c.a,{className:"btn_ret",variant:"danger",size:"lg",href:"/"},"Retour \xe0 la carte"))))}}]),t}(n.Component)),x=a(11),j=Object(x.a)(),y=(a(80),a(107)),z=a(109),M=a(108),O=a(110),N=a(6),_=a.n(N),S=a(35),A=a.n(S),L=a(60),P=a.n(L),I=(a(101),[0,0]),C=[],U={enableHighAccuracy:!0,timeout:1e4,maximumAge:0},Z=new _.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),B=new _.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),T=new _.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function V(e,t,a,n){if(e==a&&t==n)return 0;var o=Math.PI*e/180,r=Math.PI*a/180,m=t-n,i=Math.PI*m/180,s=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos(i);return s>1&&(s=1),s=60*(s=180*(s=Math.acos(s))/Math.PI)*1.1515,1e3*(s*=1.609344)}function H(e){var t=e.coords;I=[t.latitude,t.longitude]}function J(e){}var D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this))).update=function(){window.navigator.vibrate(1e3),A.a.getCurrentPosition(H,J,U),a.setState({marker:I,zoom:a.getMapZoom()}),C!=[]&&V(C[0],C[1],I[0],I[1])>150&&a.setState({near:!1});for(var e=0;e<Object.keys(a.state.monuments).length;e++)if(V(I[0],I[1],a.state.monuments[e].Latitude,a.state.monuments[e].Longitude)<=150&&0==a.state.near){window.navigator.vibrate(1e3),a.setState({near:!0}),alert("Vous \xeates proche de "+a.state.monuments[e].nom_monu),C=[a.state.monuments[e].Latitude,a.state.monuments[e].Longitude,e];break}},a.handleZoomstart=function(e){console.log(a.map&&a.map.leafletElement)},a.state={marker:I,zoom:14,near:!1,markers:[{key:"marker1",position:[51.5,-.1],content:"My first popup"},{key:"marker2",position:[51.51,-.1],content:"My second popup"},{key:"marker3",position:[51.49,-.05],content:"My third popup"}],monuments:[]},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;A.a.getCurrentPosition(H,J,U),A.a.watchPosition(function(t){e.setState({marker:[t.coords.latitude,t.coords.longitude]}),console.log(e.state.marker)},function(e){return alert(e.message)},{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3}),P.a.get("https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/api/monuments.php").then(function(a){var n=a.data;t.setState({monuments:n});for(var o=0;o<Object.keys(e.state.monuments).length;o++)1==e.state.monuments[o].id_imp?_.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:B}).addTo(e.map.leafletElement).bindPopup('<img style="width:100%;border: 2px solid;" src="https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/images/monument'+(o+1)+'/image1.jpg"><center><b>'+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].lib_imp+"</center>"):2==e.state.monuments[o].id_imp?_.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:T}).addTo(e.map.leafletElement).bindPopup('<img style="width:100%;border: 2px solid;" src="https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/images/monument'+(o+1)+'/image1.jpg"><center><b>'+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].lib_imp+"</center>"):_.a.marker([e.state.monuments[o].Latitude,e.state.monuments[o].Longitude],{icon:Z}).addTo(e.map.leafletElement).bindPopup('<img style="width:100%;border: 2px solid;" src="https://devweb.iutmetz.univ-lorraine.fr/~ramier2u/monumix/images/monument'+(o+1)+'/image1.jpg"><center><b>'+e.state.monuments[o].nom_monu+"</b></center><br ><center>"+e.state.monuments[o].lib_imp+"</center>")})}},{key:"getMapZoom",value:function(){return this.map&&this.map.leafletElement.getZoom()}},{key:"render",value:function(){var e=this,t=o.a.createElement(y.a,{position:this.state.marker},o.a.createElement(z.a,null,"Vous \xeates ici !"));return o.a.createElement("div",null,o.a.createElement(M.a,{ref:function(t){e.map=t},center:[49.133333,6.166667],zoom:this.state.zoom,maxBounds:[[49.072067,6.100502],[49.143538,6.256371]],maxBoundsViscosity:1,zoomControl:!0,maxZoom:18,minZoom:13},o.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t))}}]),t}(n.Component),R=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement(l.b,{history:j},o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/",exact:!0,component:D}),"                    ",o.a.createElement(l.a,{path:"/Menu",component:w})))}}]),t}(n.Component);var q=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,null),o.a.createElement(R,null))};m.a.render(o.a.createElement(i.a,null,o.a.createElement(q,null)),document.getElementById("root"))},65:function(e,t,a){e.exports=a(104)},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.08adbcdf.chunk.js.map